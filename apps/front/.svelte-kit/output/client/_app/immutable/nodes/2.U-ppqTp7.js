import"../chunks/DsnmJJEf.js";import{i as T}from"../chunks/C0onhL4A.js";import{p as V,f as o,e as F,b as d,d as B,c as e,a as v,r as t,o as G,h as N,m as I,g as r,j as Z,t as U,aC as A,aD as tt,aB as at}from"../chunks/BXFeFmkJ.js";import{g as P}from"../chunks/B0tt7mr_.js";import{i as $}from"../chunks/CiKQ9KvB.js";import{d as q,e as z,i as E}from"../chunks/BG538JTy.js";var st=o('<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Quick Actions</h2> <div class="space-y-3"><button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors">New Scene</button> <button class="w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md transition-colors">New Chapter</button></div></div>');function dt(f,g){V(g,!1);function s(){P("/scene/new")}function u(){P("/chapter/new")}T();var y=st(),x=v(e(y),2),l=e(x),b=v(l,2);t(x),t(y),F("click",l,s),F("click",b,u),d(f,y),B()}var it=o('<div class="space-y-3"><div class="animate-pulse"><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"></div> <div class="h-8 bg-gray-200 dark:bg-gray-700 rounded"></div></div> <div class="animate-pulse"><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"></div> <div class="h-8 bg-gray-200 dark:bg-gray-700 rounded"></div></div></div>'),ot=o('<div class="grid grid-cols-2 gap-4"><div class="text-center"><div class="text-2xl font-bold text-blue-600 dark:text-blue-400"> </div> <div class="text-sm text-gray-600 dark:text-gray-400">Chapters</div></div> <div class="text-center"><div class="text-2xl font-bold text-green-600 dark:text-green-400"> </div> <div class="text-sm text-gray-600 dark:text-gray-400">Scenes</div></div></div>'),vt=o('<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Project Stats</h2> <!></div>');function lt(f,g){V(g,!1);let s=I(0),u=I(0),y=I(!0);G(async()=>{try{const[c,m]=await Promise.all([q.getAllChapters(),q.getAllScenes()]);N(s,c.length),N(u,m.length)}catch(c){console.error("Failed to load project stats:",c)}finally{N(y,!1)}}),T();var x=vt(),l=v(e(x),2);{var b=c=>{var m=it();d(c,m)},W=c=>{var m=ot(),C=e(m),a=e(C),i=e(a,!0);t(a),Z(2),t(C);var n=v(C,2),S=e(n),k=e(S,!0);t(S),Z(2),t(n),t(m),U(()=>{A(i,r(s)),A(k,r(u))}),d(c,m)};$(l,c=>{r(y)?c(b):c(W,!1)})}t(x),d(f,x),B()}var ct=o('<div class="animate-pulse"><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"></div> <div class="h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"></div></div>'),nt=o('<div class="space-y-3"></div>'),gt=o('<p class="text-sm text-gray-600 dark:text-gray-400">No chapters created yet.</p>'),ut=o('<button type="button" class="w-full p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors text-left"><div class="flex items-center justify-between"><div class="flex-1 min-w-0"><h3 class="font-medium text-gray-900 dark:text-white truncate"> </h3> <p class="text-sm text-gray-500 dark:text-gray-400"> </p></div> <div class="text-xs text-gray-500 dark:text-gray-400 ml-2"> </div></div></button>'),xt=o('<div class="space-y-3"></div>'),bt=o('<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-gray-900 dark:text-white">Recent Chapters</h2> <button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300">View All</button></div> <!></div>');function pt(f,g){V(g,!1);let s=I([]),u=I(!0);G(async()=>{try{const a=await q.getAllChapters();N(s,a.sort((i,n)=>(n.updatedAt||0)-(i.updatedAt||0)).slice(0,5))}catch(a){console.error("Failed to load recent chapters:",a)}finally{N(u,!1)}});function y(a){P("/chapters")}function x(a){return new Date(a).toLocaleDateString()}T();var l=bt(),b=e(l),W=v(e(b),2);t(b);var c=v(b,2);{var m=a=>{var i=nt();z(i,4,()=>Array(3),E,(n,S)=>{var k=ct();d(n,k)}),t(i),d(a,i)},C=a=>{var i=tt(),n=at(i);{var S=p=>{var _=gt();d(p,_)},k=p=>{var _=xt();z(_,5,()=>r(s),E,(J,h)=>{var w=ut(),L=e(w),D=e(L),j=e(D),K=e(j,!0);t(j);var R=v(j,2),O=e(R);t(R),t(D);var H=v(D,2),X=e(H,!0);t(H),t(L),t(w),U(M=>{A(K,r(h).title),A(O,`ID: ${r(h).chapterId??""}`),A(X,M)},[()=>x(r(h).updatedAt||r(h).createdAt)]),F("click",w,()=>y(r(h))),d(J,w)}),t(_),d(p,_)};$(n,p=>{r(s).length===0?p(S):p(k,!1)},!0)}d(a,i)};$(c,a=>{r(u)?a(m):a(C,!1)})}t(l),F("click",W,()=>P("/chapters")),d(f,l),B()}var ht=o('<div class="animate-pulse"><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"></div> <div class="h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"></div></div>'),yt=o('<div class="space-y-3"></div>'),ft=o('<p class="text-sm text-gray-600 dark:text-gray-400">No scenes created yet.</p>'),mt=o('<p class="text-xs text-blue-600 dark:text-blue-400"> </p>'),_t=o('<div class="p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors"><div class="flex items-center justify-between"><div class="flex-1 min-w-0"><h3 class="font-medium text-gray-900 dark:text-white truncate"> </h3> <p class="text-sm text-gray-500 dark:text-gray-400"> </p> <!></div> <div class="text-xs text-gray-500 dark:text-gray-400 ml-2"> </div></div></div>'),kt=o('<div class="space-y-3"></div>'),wt=o('<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-gray-900 dark:text-white">Recent Scenes</h2> <button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300">View All</button></div> <!></div>');function At(f,g){V(g,!1);let s=I([]),u=I(!0);G(async()=>{try{const a=await q.getAllScenes();N(s,a.sort((i,n)=>(n.updatedAt||0)-(i.updatedAt||0)).slice(0,5))}catch(a){console.error("Failed to load recent scenes:",a)}finally{N(u,!1)}});function y(a){P("/cards/scenes")}function x(a){return new Date(a).toLocaleDateString()}T();var l=wt(),b=e(l),W=v(e(b),2);t(b);var c=v(b,2);{var m=a=>{var i=yt();z(i,4,()=>Array(3),E,(n,S)=>{var k=ht();d(n,k)}),t(i),d(a,i)},C=a=>{var i=tt(),n=at(i);{var S=p=>{var _=ft();d(p,_)},k=p=>{var _=kt();z(_,5,()=>r(s),E,(J,h)=>{var w=_t(),L=e(w),D=e(L),j=e(D),K=e(j,!0);t(j);var R=v(j,2),O=e(R);t(R);var H=v(R,2);{var X=Q=>{var Y=mt(),rt=e(Y);t(Y),U(()=>A(rt,`Chapter: ${r(h).chapterId??""}`)),d(Q,Y)};$(H,Q=>{r(h).chapterId&&Q(X)})}t(D);var M=v(D,2),et=e(M,!0);t(M),t(L),t(w),U(Q=>{A(K,r(h).title||"Untitled Scene"),A(O,`ID: ${r(h).sceneId??""}`),A(et,Q)},[()=>x(r(h).updatedAt||r(h).createdAt)]),F("click",w,()=>y(r(h))),d(J,w)}),t(_),d(p,_)};$(n,p=>{r(s).length===0?p(S):p(k,!1)},!0)}d(a,i)};$(c,a=>{r(u)?a(m):a(C,!1)})}t(l),F("click",W,()=>P("/cards/scenes")),d(f,l),B()}var St=o(`<div class="p-6 space-y-6"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white">Dashboard</h1> <p class="text-gray-600 dark:text-gray-400 mt-2">Welcome back! Here's an overview of your project.</p></div> <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6"><!> <!></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><!> <!></div></div>`);function Ct(f){var g=St(),s=v(e(g),2),u=e(s);dt(u,{});var y=v(u,2);lt(y,{}),t(s);var x=v(s,2),l=e(x);pt(l,{});var b=v(l,2);At(b,{}),t(x),t(g),d(f,g)}function Ft(f,g){V(g,!1),G(()=>{const s=window.location.pathname;(s.startsWith("/cards/")||s.startsWith("/graph/"))&&console.log("Navigation to:",s)}),T(),Ct(f),B()}export{Ft as component};
